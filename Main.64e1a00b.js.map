{"version":3,"sources":["src/BaseElement.ts","src/HeaderVideo.ts","src/ActionNetworkForm.ts","src/Main.ts"],"names":[],"mappings":"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","file":"Main.64e1a00b.js","sourceRoot":"..","sourcesContent":["export abstract class BaseElement extends HTMLElement {\n  constructor() {\n    super()\n    this.attachShadow({ mode: 'open' })\n    this.addStyles()\n  }\n\n  protected static styles: string = ''\n\n  public connectedCallback() {\n\n  }\n\n  public disconnectedCallback() {\n    \n  }\n\n  private addStyles() {\n    if ('adoptedStyleSheets' in this.shadowRoot!) {\n      const sheet = new CSSStyleSheet()\n      sheet.replaceSync((this.constructor as typeof BaseElement).styles)\n      this.shadowRoot!.adoptedStyleSheets = [sheet]\n    } else {\n      const node = document.createElement('style')\n      node.textContent = (this.constructor as typeof BaseElement).styles\n      this.shadowRoot!.appendChild(node)\n    }\n  }\n}","import { BaseElement } from './BaseElement'\nimport filepath from '../assets/video/ctd_video.mp4'\n\nexport class HeaderVideo extends BaseElement {\n  public get currentTime() {\n    return this._currentTime\n  }\n\n  private _video: HTMLVideoElement | null = null\n  private _currentTime: number = 0\n\n  protected static styles = `\n    :host {\n      display: block;\n      height: auto;\n      position: relative;\n      padding-top: 56.25%;\n      pointer-events: none;\n    }\n    video {\n      display: block;\n      position: absolute;\n      top: 50%;\n      left: 50%;\n      height: 100%;\n      width: 100%;\n      transform: translateX(-50%) translateY(-50%);\n    }\n  `\n\n  public connectedCallback() {\n    super.connectedCallback()\n    this._video = document.createElement('video')\n    this._video.setAttribute('playsinline', '')\n    this._video.autoplay = true\n    this._video.muted = true\n    this._video.controls = false\n    this._video.addEventListener('loadstart', this.onVideoLoadStart)\n    this._video.addEventListener('canplaythrough', this.onVideoCanPlayThrough)\n    this._video.addEventListener('playing', this.onVideoPlaying)\n    this._video.addEventListener('waiting', this.onVideoWaiting)\n    this._video.addEventListener('timeupdate', this.onVideoTimeUpdate)\n    this._video.src = filepath\n    this.shadowRoot!.appendChild(this._video)\n  }\n\n  private onVideoLoadStart = () => {\n    this.setAttribute('state', 'loading')\n  }\n\n  private onVideoCanPlayThrough = () => {\n    this.setAttribute('state', 'ready')\n    console.log('hi')\n  }\n\n  private onVideoPlaying = () => {\n    this.setAttribute('state', 'playing')\n  }\n\n  private onVideoWaiting = () => {\n    this.setAttribute('state', 'loading')\n  }\n\n  private onVideoError = () => {\n    this.setAttribute('state', 'error')\n  }\n\n  private onVideoTimeUpdate = () => {\n    this._currentTime = this._video!.currentTime\n    this.dispatchEvent(new CustomEvent('timeupdate'))\n  }\n}\n\ncustomElements.define('header-video', HeaderVideo)","import { BaseElement } from './BaseElement'\n\nclass ActionNetworkForm extends BaseElement {\n  private _actionId: string | null = null\n  private _iframe!: HTMLIFrameElement\n  private _showActionName: boolean = true\n  private _showActionNetworkLogo: boolean = true\n  private _theme: string = 'light'\n\n  protected static styles = `\n    :host {\n      display: block;\n      position: relative;\n    }\n    iframe {\n      border: 0;\n      width: 100%;\n      position: relative;\n      display: block;\n    }\n  `\n\n  public get actionId(): string | null {\n    return this.getAttribute('action-id')\n  }\n\n  public set actionId(value: string | null) {\n    const current = this.getAttribute('action-id')\n    if (value === current) return\n    if (value === null) this.removeAttribute('action-id')\n    else this.setAttribute('action-id', value)\n  }\n\n  public connectedCallback() {\n    super.connectedCallback()\n    this.actionId = this.getAttribute('action-id')\n    this._showActionName = this.getAttribute('show-action-name') !== 'false'\n    this._showActionNetworkLogo = this.getAttribute('show-action-network-logo') !== 'false'\n    this._theme = this.getAttribute('theme') === 'dark' ? 'dark' : 'light'\n    if (this.actionId) this.injectForm()\n  }\n\n  public disconnectedCallback() {\n    super.disconnectedCallback()\n    window.removeEventListener('resize', this.setIframeHeight)\n  }\n\n  private injectForm() {\n    this._iframe = document.createElement('iframe')\n    this._iframe.setAttribute('loading', 'lazy')\n    this._iframe.srcdoc = this.createIframeContent()\n    this._iframe.addEventListener('load', this.onIframeLoad)\n    this.shadowRoot!.append(this._iframe)\n  }\n\n  private onIframeLoad = () => {\n    this._iframe.contentWindow!.addEventListener('needsresize', this.setIframeHeight)\n  }\n\n  private setIframeHeight = () => {\n    this._iframe.style.height = this._iframe.contentDocument!.body.scrollHeight + 'px'\n  }\n\n  private createIframeContent() {\n    return `<!DOCTYPE html>\n<html>\n<head>\n  <link href=\"https://fonts.googleapis.com/css?family=Source+Sans+Pro&display=swap\" rel=\"stylesheet\">\n  <script async src=\"https://actionnetwork.org/widgets/v3/form/${this.actionId}?format=js&source=widget\"></script>\n  <style>\n    :root {\n      --sunrise-yellow: #ffde16;\n      --sunrise-charcoal: #33342e;\n      --sunrise-magenta: #8f0d56;\n      --sunrise-orange: #fd9014;\n    }\n    * {\n      box-sizing: border-box;\n    }\n    body {\n      font-family: Source Sans Pro;\n      margin: 0;\n      color: ${this._theme === 'dark' ? '#ffffff' : 'var(--sunrise-charcoal)'};\n      position: relative;\n      padding: 16px;\n    }\n    h2 {\n      margin: 0;\n      display: ${this._showActionName ? 'block' : 'none'};\n    }\n    h4 {\n      margin: 0;\n    }\n    #logo_wrap {\n      display: ${this._showActionNetworkLogo ? 'block' : 'none'};\n    }\n    li.form_builder_output {\n      list-style: none;\n    }\n    li.core_field {\n      list-style: none;\n      padding: 8px 0;\n    }\n    li.control-group input[type=\"text\"],\n    li.control-group input[type=\"email\"],\n    li.core_field input[type=\"text\"],\n    li.core_field input[type=\"email\"] {\n      width: 100%;\n      height: 48px;\n      border: 0;\n      outline: 0;\n      border-radius: 8px;\n      padding: 0 16px;\n      font-size: 16px;\n      font-family: inherit;\n    }\n    li.control-group {\n      list-style: none;\n      display: flex;\n      flex-direction: column;\n      padding: 8px 0;\n    }\n    li.control-group label {\n      font-size: 14px;\n      padding-bottom: 4px;\n      padding-left: 16px;\n    }\n    .international_link-wrap {\n      display: block;\n      color: #ffde16;\n      padding: 8px 0;\n      cursor: pointer;\n    }\n    .can_select {\n      width: 100%;\n      display: block;\n      height: 48px;\n      border: 0;\n      outline: 0;\n      cursor: pointer;\n      font-size: 16px;\n      padding: 0 16px;\n      font-family: inherit;\n    }\n    .country_drop_wrap {\n      display: block;\n      padding: 8px 0;\n    }\n    .hide {\n      display: none;\n    }\n  </style>\n</head>\n<body>\n  <div id=\"can-form-area-${this.actionId}\"></div>\n  <script>\n    var observer = new MutationObserver(() => {\n      window.dispatchEvent(new CustomEvent('needsresize'))\n    })\n    observer.observe(document.body, { subtree: true, attributes: true })\n  </script>\n</body>\n</html>\n    `\n  }\n}\n\ncustomElements.define('action-network-form', ActionNetworkForm)","import './HeaderVideo'\nimport './ActionNetworkForm'\n\nconst video = document.querySelector('youtube-video')!"]}